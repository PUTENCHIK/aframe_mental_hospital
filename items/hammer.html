<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <link rel="stylesheet" href="../styles/inventory.css">
    <link rel="stylesheet" href="../styles/notification.css">
</head>
<body>

    <!-- Ð˜Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€ÑŒ -->
    <div class="ui-overlay">
        <div class="inventory-title">ðŸŽ’ Ð˜Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€ÑŒ</div>
        <div class="inventory-items" id="inventory-ui">
            <!-- Ð¡Ð»Ð¾Ñ‚Ñ‹ Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð·Ð°Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒÑÑ Ð·Ð´ÐµÑÑŒ -->
        </div>
    </div>
    
    <div class="notification" id="notification">
        ÐŸÑ€ÐµÐ´Ð¼ÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð² Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€ÑŒ!
    </div>
    <!-- /Ð˜Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€ÑŒ -->


    <a-scene >
        <a-sky color="#ECECEC"></a-sky>
        <a-box position="0 -1 0" width="20" depth="20" height="0.5" color="#7D7D7D" material="" geometry=""></a-box>

        <a-box
            id="reset"
            position="-2 1 -3" 
            width="0.8" 
            height="0.8" 
            depth="0.1"
            class="clickable"
            color="#F54927"
            >
        </a-box>

        <a-box
            id="door"
            position="-3 1.5 2.9" 
            width="2" 
            height="3" 
            depth="0.1" 
            src="../textures/door.jpg"
            class="clickable unlock"
            data-interactive-things="Ð”Ð¾ÑÐºÐ°-1 Ð”Ð¾ÑÐºÐ°-2 Ð”Ð¾ÑÐºÐ°-3"
            data-inventory-items="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº"
            >
        </a-box>

        <a-box
            id="Ð”Ð¾ÑÐºÐ°-1"
            data-name="Ð”Ð¾ÑÐºÐ°-1"
            position="-3 1.5 2.8" 
            width="2.2" 
            height="0.3" 
            depth="0.1" 
            src="../textures/plank.jpg"
            class="clickable interactive"
            data-inventory-items="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº"  
            >
        </a-box>

        <a-box
            id="Ð”Ð¾ÑÐºÐ°-2"
            data-name="Ð”Ð¾ÑÐºÐ°-2"
            position="-3 2 2.8" 
            width="2.2" 
            height="0.3" 
            depth="0.1" 
            src="../textures/plank.jpg"
            class="clickable interactive"
            data-inventory-items="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº2"
            >
        </a-box>

        <a-box
            id="Ð”Ð¾ÑÐºÐ°-3"
            data-name="Ð”Ð¾ÑÐºÐ°-3"
            position="-3 1 2.8" 
            width="2.2" 
            height="0.3" 
            depth="0.1" 
            src="../textures/plank.jpg"
            class="clickable interactive"
            data-inventory-items="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº2"
            >
        </a-box>

        <a-entity 
            id="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº"
            class="collectable clickable" 
            position="1 1 1"
            data-icon="ðŸ”¨"     
            data-name="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº"    
            animation="property: position; to: 1 1.8 1; loop: true; dir: alternate; dur: 1000" 
            geometry="primitive: box; width: 0.8; height: 0.2; depth: 0.2"
            material="opacity: 0.0; transparent: true"
            >
            <!-- Ð ÑƒÐºÐ¾ÑÑ‚ÐºÐ° Ð¼Ð¾Ð»Ð¾Ñ‚ÐºÐ° -->
            <a-cylinder 
                position="0 0 0"
                radius="0.05"
                height="0.6"
                color="#8B4513"
                rotation="0 0 90">
            </a-cylinder>
            
            <!-- Ð“Ð¾Ð»Ð¾Ð²ÐºÐ° Ð¼Ð¾Ð»Ð¾Ñ‚ÐºÐ° - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ -->
            <a-box 
                position="0.35 0 0"
                width="0.3"
                height="0.1"
                depth="0.15"
                color="#696969"
                rotation="0 0 90">
            </a-box>
        </a-entity>

        <a-entity
            id="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº2"
            class="collectable clickable" 
            data-name="ÐœÐ¾Ð»Ð¾Ñ‚Ð¾Ðº2"
            position="3 1 1"
            data-icon="ðŸ”¨"         
            animation="property: position; to: 3 1.8 1; loop: true; dir: alternate; dur: 1000" 
            geometry="primitive: box; width: 0.8; height: 0.2; depth: 0.2"
            material="opacity: 0.0; transparent: true"
            >
            <!-- Ð ÑƒÐºÐ¾ÑÑ‚ÐºÐ° Ð¼Ð¾Ð»Ð¾Ñ‚ÐºÐ° -->
            <a-cylinder 
                position="0 0 0"
                radius="0.05"
                height="0.6"
                color="#000000"
                rotation="0 0 90">
            </a-cylinder>
            
            <!-- Ð“Ð¾Ð»Ð¾Ð²ÐºÐ° Ð¼Ð¾Ð»Ð¾Ñ‚ÐºÐ° - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ -->
            <a-box 
                position="0.35 0 0"
                width="0.3"
                height="0.1"
                depth="0.15"
                color="#696969"
                rotation="0 0 90">
            </a-box>
        </a-entity>
        
        <!-- Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ ÐºÐ»Ð¸ÐºÐ°Ñ‚ÑŒ Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð°Ð¼! -->
        <a-entity
            cursor="fuse: false; rayOrigin: mouse"
            raycaster="objects: .clickable">
        </a-entity>
        <!-- /Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ ÐºÐ»Ð¸ÐºÐ°Ñ‚ÑŒ Ð¿Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð°Ð¼! -->

    </a-scene>

    <!-- ÐšÐ¾Ð´Ð¸Ðº Ð´Ð»Ñ Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ñ Ð¸ Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð² -->
    <script src="../scripts/inventory.js"></script>
    <script src="../scripts/interactiveThings.js"></script>
    <script src="../scripts/unlockThings.js"></script>
    <script src="../scripts/notifications.js"></script>
    <script>
        let inventorySystem;
        let interactiveThings;
        let notification;
        let unlockThings;

        document.querySelector('a-scene').addEventListener('loaded', function() {
            notification = new Notifications();
            inventorySystem = new InventorySystem(notification);
            interactiveThings = new InteractiveThings(inventorySystem, notification);
            unlockThings = new UnlockThings(inventorySystem, interactiveThings, notification);
        }); 
    </script>
    <!-- /ÐšÐ¾Ð´Ð¸Ðº Ð´Ð»Ñ Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ñ -->

    <script>
        document.getElementById('reset').addEventListener('click', () => {
            sessionStorage.clear();
            location.reload();
        });


        document.getElementById('door').addEventListener('click', (event) => {
            if (unlockThings.checkUnlock(event.target)) {
                sessionStorage.clear();
                location.reload();   
            }
        });
    </script>
</body>
</html>